<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html>
<head> 
   {% include './common/header.html' %}
   <script src="{{url_for('static', filename='js/html/websiteImports.js') }}"></script>
	<script>importCss();</script>
	<script>importJs();</script>
</head> 

<body> 
   {% include './common/nav.html' %}
   <div id ='learnBody'>
      <div id ='content' class="learn" style="margin-top: 97px">
         <div id ='headerDiv'></div>
         <div id="hint" style="margin-top: 5%; float: right;">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#hintModal">힌트보기</button>
         </div>
         <div id ='centerAreaDiv'></div>
         <div id ='progressBarDiv' style="margin-top: -71.5%;"></div>
      </div>
      <!-- Modal -->
      <div class="modal fade" id="hintModal" tabindex="-1" aria-labelledby="hintModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title" id="hintModalLabel">힌트</h5>
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="hintInfo">
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-primary" data-bs-dismiss="modal">닫기</button>
            </div>
         </div>
         </div>
      </div>
   </div>
   <script>
      var stepIndex = ''
      var levelIndex = ''
      
      function init() {
         var learnEngine = null;
         
         window.onload = function() {
            initTabs();
            learnEngine = KarelLearnEngine();
            window.onhashchange = learnEngine.onHashChange;
            stepIndex = learnEngine.progressModelStatus.getUnitIndex();
            levelIndex = learnEngine.progressModelStatus.getLessonIndex();

            window.onresize();
            $("[title]").tooltip({ position: "top center", opacity: 0.9, tipClass: 'topTooltip'});
         }    

         window.onresize = function(){
            if(learnEngine)learnEngine.onWindowResize();
            ReferenceDialog.resize();
         }     
      }
      init();

      $('#hint').click(function (){
         console.log('hint')

         learnEngine = KarelLearnEngine();
         stepIndex = learnEngine.progressModelStatus.getUnitIndex();
         levelIndex = learnEngine.progressModelStatus.getLessonIndex();
 
         console.log('stepIndex', stepIndex)
         console.log('levelIndex',levelIndex)
         
         $('.img-fluid').remove()
         $('div#hintInfo').append('<img src="../static/images/hint/hint_' + stepIndex + '-' + levelIndex + '.png" class="img-fluid">')
         
      })
   </script>

</body> 
</html>